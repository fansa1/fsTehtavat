{"version":3,"sources":["components/DisplayFilter.js","components/DisplayForm.js","components/DisplayNameAndNumber.js","components/Notification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["DisplayFilter","_ref","value","onChange","react_default","a","createElement","Fragment","DisplayForm","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","DisplayNameAndNumberList","Objektilista","filtteri","ButtonClick","lista","filtterointi","map","note","name","filter","toLowerCase","includes","filtteroituObjektiLista","objekti","key","id","number","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","persons","axios","get","then","response","data","Objekti","post","poistoOsoite","concat","delete","console","log","puhelinnumero","paivitysOsoite","put","App","_useState","useState","_useState2","Object","slicedToArray","luettelo","setLuettelo","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","errormessage","seterrorMessage","useEffect","personService","initialLuettelo","components_Notification","components_ErrorNotification","components_DisplayFilter","event","target","components_DisplayForm","preventDefault","puhelinnumeroTiedot","luetteloobjekti","window","confirm","idNumber","uusipuhnum","paivitystieto","catch","error","setTimeout","paivitettylista","returnedPuhelinnumerotiedot","JSON","stringify","DisplayNameAndNumber","paivitaObjektilista","poistettavanimi","poistettuPuhelinnumerotieto","n","poistettuNimi","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8e5994ad.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst DisplayFilter = ({value, onChange}) => {\r\n    return(\r\n      <>\r\n      filter shown with <input value={value} onChange={onChange}/>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default DisplayFilter","import React from 'react'\r\n\r\nconst DisplayForm = ({onSubmit, valueName, onChangeName, valueNumber, onChangeNumber}) => {\r\n      return(\r\n      <>\r\n      <form onSubmit={onSubmit}>\r\n      <div>\r\n      name: <input value={valueName} onChange={onChangeName}/>\r\n      <div>number: <input value={valueNumber} onChange={onChangeNumber}/></div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </>\r\n      )\r\n  }\r\n\r\n  export default DisplayForm"," import React from 'react'\r\n \r\n const DisplayNameAndNumberList = ({Objektilista, filtteri, ButtonClick}) => {\r\n \r\n\r\n  let lista = []\r\n  //console.log(Objektilista)\r\n  const filtterointi = Objektilista.map(note => note.name).filter(name => (name.toLowerCase().includes(filtteri.toLowerCase()))) \r\n  const filtteroituObjektiLista = Objektilista.filter(objekti => filtterointi.includes(objekti.name))\r\n     if(filtteri===''){\r\n     lista=(Objektilista.map(note => <li key={note.id}>{note.name} {note.number} <button onClick={()=> ButtonClick(note.id)}> delete </button></li>))\r\n     }else{\r\n     lista = (filtteroituObjektiLista.map(note => <li key={note.id}>{note.name} {note.number} <button onClick={()=> ButtonClick(note.id)}> delete </button></li>))\r\n     }\r\n     return(\r\n        <div>\r\n        <ul>\r\n        {lista}\r\n        </ul>\r\n        </div>\r\n    )\r\n  }\r\n  \r\n  export default DisplayNameAndNumberList","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    \r\n     const notificationStyle =  {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }\r\n  \r\n  \r\n    if (message === null) {\r\n    return null\r\n  }else{\r\n  return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n}\r\n\r\n  export default Notification","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    const errorStyle =  {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }  \r\n  \r\n    if (message === null) {\r\n    return(null\r\n    )\r\n  }else{\r\n  return (\r\n    <div style={errorStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\n\r\n  export default ErrorNotification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n\r\nconst create = (Objekti) => {\r\n  const request = axios.post(baseUrl, Objekti)\r\n  return(\r\n  request.then(response => (response.data))\r\n  )\r\n}\r\n\r\nconst poista = (id) => {\r\n  const poistoOsoite = `/api/persons/${id}`\r\n  const request = axios.delete(poistoOsoite)\r\n  return(\r\n    request.then(response => console.log(response.data))\r\n  )\r\n}\r\n\r\n\r\nconst paivita = (id, puhelinnumero) => {\r\n  const paivitysOsoite = `/api/persons/${id}`\r\n  const request = axios.put(paivitysOsoite, puhelinnumero)\r\n  return(\r\n    request.then(response => (response.data))\r\n  )\r\n}\r\n  \r\n  \r\n  export default { getAll, create, poista, paivita }","import React, {useState, useEffect} from 'react'\r\nimport DisplayFilter from './components/DisplayFilter'\r\nimport DisplayForm from './components/DisplayForm'\r\nimport DisplayNameAndNumber from './components/DisplayNameAndNumber'\r\nimport Notification from './components/Notification'\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport personService from './services/persons'\r\n\r\n\r\nconst App = () => {  \r\n\r\nconst [ luettelo, setLuettelo] = useState([])\r\nconst [ newName, setNewName ] = useState('')\r\nconst [ newNumber,setNewNumber ] = useState('')\r\nconst [ newFilter, setNewFilter ] = useState('')\r\nconst [ message, setMessage] = useState(null)\r\nconst [ errormessage, seterrorMessage] = useState(null)\r\n\r\n\r\nuseEffect(() => {\r\n  personService\r\n  .getAll()\r\n  .then(initialLuettelo=>setLuettelo(initialLuettelo))\r\n},[]) \r\n\r\n\r\nconst handleFormSubmit = (event) => {\r\n  event.preventDefault()\r\n  console.log('button clicked', event.target)\r\n  \r\n  const puhelinnumeroTiedot = {\r\n    name: newName,\r\n    number: newNumber\r\n    }  \r\n\r\n  const names = luettelo.map(luetteloobjekti => luetteloobjekti.name.toLowerCase())\r\n  if(!names.includes(puhelinnumeroTiedot.name.toLowerCase())){\r\n    \r\n    personService\r\n      .create(puhelinnumeroTiedot)\r\n      .then(returnedPuhelinnumerotiedot => {\r\n      setLuettelo(luettelo.concat(returnedPuhelinnumerotiedot))\r\n      setMessage(`Added ${newName}`)\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setTimeout(() => {\r\n      setMessage(null)\r\n      }, 5000)})\r\n\r\n      .catch(error => {\r\n      seterrorMessage(`${JSON.stringify(error.response.data)}`)\r\n      setTimeout(() => {\r\n      seterrorMessage(null)\r\n      }, 5000)\r\n      })\r\n\r\n      \r\n\r\n      \r\n  \r\n}else{\r\n  if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n    let idNumber = luettelo.filter(objekti=>objekti.name.includes(newName))[0].id\r\n    const uusipuhnum ={\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    personService\r\n    .paivita(idNumber, uusipuhnum)\r\n    .then(paivitystieto => console.log(paivitystieto))\r\n    .catch(error => {\r\n      console.log('fail')\r\n      setMessage(`Error. Information of ${uusipuhnum.name} has already been removed from the server`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)})\r\n    personService\r\n    .getAll()\r\n    .then(paivitettylista=>setLuettelo(paivitettylista))\r\n    setNewName('')\r\n    setNewNumber('')\r\n    setMessage(`Changed the phonenumber for ${uusipuhnum.name}`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n  }\r\n}\r\n}\r\n  \r\n\r\n  const handleButtonClick= (id) => {\r\n    const poistettavanimi = luettelo.filter(objekti=>objekti.id===(id))[0].name\r\n    if (window.confirm(`Are you sure you wish to delete ${poistettavanimi}?`)){\r\n    personService\r\n        .poista(id)\r\n        .then(poistettuPuhelinnumerotieto => console.log(poistettuPuhelinnumerotieto))\r\n        .catch(error => {\r\n         setMessage(`Error. Information of ${poistettavanimi} has already been removed from the server`)\r\n         setTimeout(() => {\r\n         setMessage(null)\r\n         }, 5000)\r\n          setLuettelo(luettelo.filter(n => n.id !== id))\r\n        })\r\n        let poistettuNimi = luettelo.filter(n=>n.id ===id)[0].name\r\n        setLuettelo(luettelo.filter(n => n.id !== id))\r\n        setMessage(`Deleted ${poistettuNimi}`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n      }else{\r\n        setLuettelo(luettelo)\r\n      }\r\n    }  \r\n \r\n\r\n    const handleNameChange = (event) => {\r\n      console.log(event.target.value)\r\n      setNewName(event.target.value)\r\n      \r\n    } \r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n    \r\n  }\r\n  \r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewFilter(event.target.value)\r\n    \r\n    \r\n  }\r\n  \r\n\r\n  return (\r\n      <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message = {message} />\r\n      <ErrorNotification message = {errormessage} />\r\n      <DisplayFilter value={newFilter} onChange={handleFilterChange}/>\r\n      <h3>add a new</h3>\r\n      <DisplayForm onSubmit={handleFormSubmit} valueName={newName} onChangeName={handleNameChange} valueNumber={newNumber} onChangeNumber={handleNumberChange}/>\r\n      <h3>Numbers</h3>\r\n      <DisplayNameAndNumber Objektilista={luettelo} filtteri={newFilter} paivitaObjektilista={setLuettelo} ButtonClick={handleButtonClick}/>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}